<% content_for(:title) { "Edit #{@alert_rule.name} - #{current_project.name}" } %>

<div class="max-w-2xl">
  <div class="mb-8">
    <%= link_to dashboard_project_alert_rule_path(current_project, @alert_rule),
        class: "inline-flex items-center gap-1 text-sm font-medium mb-4 transition dm-text-muted" do %>
      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 19l-7-7 7-7"/>
      </svg>
      Back to rule
    <% end %>
    <h1 class="text-2xl font-semibold dm-text-primary">Edit Alert Rule</h1>
    <p class="mt-1 text-sm dm-text-muted"><%= @alert_rule.name %></p>
  </div>

  <div class="rounded-2xl border p-6 dm-card">
    <%= render 'form' %>
  </div>

  <div class="mt-6 pt-6 border-t dm-border">
    <h3 class="text-sm font-medium mb-3 dm-text-secondary">Danger Zone</h3>
    <%= button_to "Delete Rule", dashboard_project_alert_rule_path(current_project, @alert_rule),
        method: :delete,
        class: "px-4 py-2.5 rounded-xl text-sm font-medium transition hover:opacity-90 dm-badge-error",
        data: { confirm: "Are you sure you want to delete this alert rule?" } %>
  </div>
</div>
