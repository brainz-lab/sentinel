<%= form_with model: [@current_project, @host_group],
    url: @host_group.persisted? ? dashboard_project_host_group_path(current_project, @host_group) : dashboard_project_host_groups_path(current_project),
    class: "space-y-6" do |f| %>
  <% if @host_group.errors.any? %>
    <div class="rounded-xl px-4 py-3 text-sm" style="background: rgba(239, 68, 68, 0.1); color: #991B1B;">
      <ul class="list-disc list-inside">
        <% @host_group.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div>
    <%= f.label :name, class: "block text-sm font-medium mb-2", style: "color: var(--color-ink-700);" %>
    <%= f.text_field :name,
        class: "w-full px-4 py-2.5 rounded-xl border text-sm transition focus:outline-none focus:ring-2",
        style: "border-color: var(--color-cream-200); background: var(--color-cream-50); --tw-ring-color: var(--color-sentinel);",
        placeholder: "Production Servers" %>
  </div>

  <div>
    <%= f.label :description, class: "block text-sm font-medium mb-2", style: "color: var(--color-ink-700);" %>
    <%= f.text_area :description,
        rows: 3,
        class: "w-full px-4 py-2.5 rounded-xl border text-sm transition focus:outline-none focus:ring-2",
        style: "border-color: var(--color-cream-200); background: var(--color-cream-50); --tw-ring-color: var(--color-sentinel);",
        placeholder: "A description for this host group..." %>
  </div>

  <div class="flex items-center justify-end gap-3 pt-4">
    <%= link_to "Cancel",
        @host_group.persisted? ? dashboard_project_host_group_path(current_project, @host_group) : dashboard_project_host_groups_path(current_project),
        class: "px-4 py-2.5 rounded-xl text-sm font-medium transition",
        style: "color: var(--color-ink-600);" %>
    <%= f.submit @host_group.persisted? ? "Update Group" : "Create Group",
        class: "px-5 py-2.5 rounded-xl text-sm font-medium text-white transition hover:opacity-90 cursor-pointer",
        style: "background: var(--color-sentinel);" %>
  </div>
<% end %>
